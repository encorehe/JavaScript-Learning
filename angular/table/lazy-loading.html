<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ngTable lazy loading - Example</title>
    <script src="../angular.min.js"></script>
    <script src="../angular-1.4.0/angular-animate.js"></script>
    
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdn.rawgit.com/esvit/ng-table/1.0.0/dist/ng-table.min.css">
    <script src="https://cdn.rawgit.com/esvit/ng-table/1.0.0/dist/ng-table.js"></script>

    <script type="text/javascript">
        (function (angular) {
            'use strict';
            angular.module('exampleApp', ["ngAnimate","ngTable"]).
              controller('EventController', ['$scope', 'NgTableParams', '$timeout', function ($scope, NgTableParams, $timeout) {
                var self = this;
                var data = [
                    {name: "Moroni", age: 50},
                    {name: "Simon", age: 43},
                    {name: "Jacob", age: 27},
                    {name: "Nephi", age: 29},
                    {name: "Christian", age: 34},
                    {name: "Tiancum", age: 43},
                    {name: "Jacob", age: 27},
                    {name:'John', age:25, gender:'boy'},
                    {name:'Jessie', age:30, gender:'girl'},
                    {name:'Johanna', age:28, gender:'girl'},
                    {name:'Joy', age:15, gender:'girl'},
                    {name:'Mary', age:28, gender:'girl'},
                    {name:'Peter', age:95, gender:'boy'},
                    {name:'Sebastian', age:50, gender:'boy'},
                    {name:'Erika', age:27, gender:'girl'},
                    {name:'Patrick', age:40, gender:'boy'},
                    {name:'Samantha', age:60, gender:'girl'}
                ];
                self.tableParams = new NgTableParams({count: 2});

                // $timeout(function(){
                //     self.tableParams.settings({
                //         dataset: data
                //       });
                //     console.log('running');
                // }, 2000);

                self.tableParams.settings({
                    dataset: data
                  });
              }]);

        })(window.angular);
    </script>

</head>

<body ng-app="exampleApp">
    <div ng-controller="EventController as vm">

        <table ng-table="vm.tableParams" class="table" show-filter="true">
            <!-- class="animate-repeat"   -->
            <tr ng-repeat="user in $data"> 
                <td title="'Name'" filter="{ name: 'text'}" sortable="'name'">
                    {{user.name}}</td>
                <td title="'Age'" filter="{ age: 'number'}" sortable="'age'">
                    {{user.age}}</td>
            </tr>
        </table>

    </div>
    <style>
        
        .animate-repeat {
          line-height:30px;
          list-style:none;
          box-sizing:border-box;
        }

        .animate-repeat.ng-move,
        .animate-repeat.ng-enter,
        .animate-repeat.ng-leave {
          transition:all linear 0.5s;
        }

        .animate-repeat.ng-leave.ng-leave-active,
        .animate-repeat.ng-move,
        .animate-repeat.ng-enter {
          opacity:0;
          max-height:0;
        }

        .animate-repeat.ng-leave,
        .animate-repeat.ng-move.ng-move-active,
        .animate-repeat.ng-enter.ng-enter-active {
          opacity:1;
          max-height:30px;
        }
    </style>
</body>
</html>